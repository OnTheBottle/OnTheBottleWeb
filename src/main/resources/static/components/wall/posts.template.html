<link rel="stylesheet" href="common/css/app.css" type="text/css">


<div class="container-fluid">
    <div class="row">
        <div class="col-md-2">

        </div>
        <div class="posts col-md-8">
            <div class="card searchBody">
                <div class="card-body poisk container-fluid">
                    <div class="row">
                        <div class="col-md-6">
                            Search:
                            <label><input class="search" ng-model="$ctrl.getPosts"/></label>
                        </div>
                        <div class="col-md-6">
                            Sort by:
                            <select class="sort" ng-model="$ctrl.orderProp" title="Change sort option">
                                <option value="title">Title</option>
                                <option value="date">Date</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="posts">
                <form class="post-text" name="myForm" ng-submit="$ctrl.submit()">
                    <input class="id" ng-show="postid" ng-model="$ctrl.post.id"/>
                    <div class="card profile-info bg-white ">
                        <input type="text" class="form-control add-title-input" ng-model="$ctrl.post.title"
                               placeholder="Add a title post..."/>
                        <textarea id="example1" ng-model="$ctrl.post.text"
                                  class="form-control input-group-lg p-text-area" rows="2"
                                  placeholder="Whats in your mind today?">
                            </textarea>
                        <div class="card-footer fishki container-fluid cardEdit ">
                            <div class="row">
                                <div class="col-md-5 btn-group vcenter cnopki">
                                    <button type="button" class="btn" title="Add your place on map"><i
                                            class="fas fa-map-marker-alt fa-lg "></i>
                                    </button>
                                    <button type="button" class="btn" title="Add images"><i
                                            class="fas fa-camera-retro fa-lg "></i>
                                    </button>
                                    <button type="button" class="btn" title="Add video"><i
                                            class="fas fa-film fa-lg "></i></button>
                                    <button type="button" class="btn" title="Add sound "><i
                                            class="fas fa-microphone fa-lg "></i></button>
                                </div>
                                <div class="col-md-5  container vcenter">
                                    <div class="row">
                                        <div class="col-md-3 vcenter">
                                            <p class="eye"><i class="fas fa-eye fa-lg"></i></p>
                                        </div>
                                        <div class="col-md-9 vcenter">
                                            <label for="Select1">
                                                <select class="form-control select" id="Select1"
                                                        ng-model="$ctrl.post.security.description">
                                                    <option value="{{post.security.description}}">
                                                        {{post.security.description}}
                                                    </option>
                                                    <option selected disabled>Choose vision..</option>
                                                    <option ng-repeat="security in $ctrl.securities"
                                                            value="{{security.description}}">{{security.description}}
                                                    </option>

                                                </select></label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-2 btn-group text-left vcenter">
                                    <button type="submit" class="btn" data-toggle="tooltip" data-placement="top"
                                            title="{{!$ctrl.post.id ? 'Add' : 'Update'}}"
                                            value="{{!$ctrl.post.id ? 'Add' : 'Update'}}"
                                            ng-click="$ctrl.submit"><i class="far fa-paper-plane fa-lg "></i></button>
                                    <button type="button" data-toggle="tooltip" data-placement="top" title="Clean form"
                                            class="btn"
                                            ng-click="$ctrl.reset()"><i class="fas fa-undo-alt fa-lg"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
                <div class="posts list">
                    <post post="post" userId="post.user.id" get-posts="$ctrl.fetchPosts()"
                          set-likes-user="$ctrl.setLikesUser"
                          ng-repeat="post in $ctrl.posts| filter:$ctrl.getPosts|orderBy:$ctrl.orderProp"></post>
                </div>
                <div class="post-load-more text-center">
                    <div class="modal fade" id="listLikes" tabindex="-1" role="dialog" aria-labelledby="myModalTitle"
                         aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content ">
                                <div class="modal-header">
                                    <H4 class="text-center" style="margin: 0 auto;">Information about likes for this post</H4>
                                </div>
                                <div class="modal-body">
                                    <div class="container-fluid" ng-repeat="likeUser in $ctrl.likesUser">
                                        <div class="row">
                                            <div class="col-md-3">
                                                <img class="avatar rounded-circle" ng-src="likeUser.userAvatarUrl">
                                            </div>
                                            <div class="col-md-3">
                                                <p>{{likeUser.userName}}</p>
                                            </div>
                                            <div class="col-md-3">
                                                <p>{{likeUser.userSurname}}</p>
                                            </div>
                                            <div class="col-md-3">
                                                <p>{{likeUser.status}}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button class="btn btn-lg btn-secondary" type="button" data-dismiss="modal"
                                            ng-click="$ctrl.reset()">
                                        Close
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button type="button" title="Show more posts"
                            class="btn "><i class="fas fa-spinner fa-lg "></i> 4
                    </button>
                </div>
            </div>
        </div>
        <div class="col-md-2"></div>
    </div>
</div>




